<div class="container">
  <div class="flex flex-col gap-4 lg:flex-row">
    <div class="w-full lg:w-[45%]">
      <h1>To-Do App</h1>
      <div class="p-4 w-full">
        <form
          (ngSubmit)="onSubmit(taskFrom)"
          #taskFrom="ngForm"
          class="flex flex-col gap-3 w-full"
        >
          <div class="flex flex-col gap-3 items-start border border-gray-200 rounded-lg overflow-clip">
            <div class="p-2 w-full bg-white ">
            <label for="task" class="form-label sr-only">Write your task</label>
            <textarea
              type="text"
              rows="4"
              class="w-full px-0 border-0 ring-0 focus:outline-none"
              id="task"
              ngModel
              name="task"
              required
              placeholder="Write your task here"
            ></textarea>
            </div>
            <small
              *ngIf="taskFrom.invalid && taskFrom.dirty"
              id="errorMessage"
              class="ml-2 text-rose-600"
              >Required field</small
            >
            <div class="w-full flex border-t">
            <div class="my-2 mr-3 ml-auto">
              <button
                [disabled]="taskFrom.invalid"
                id="submitButton"
                type="submit"
                class="btn btn-primary"
              >
                Submit
              </button>
            </div>
            </div>
          </div>
        </form>
      </div>
    </div>

    <div class="mt-[3rem] mb-5 h-auto lg:max-h-[90vh] lg:h-[90vh] w-full border rounded-md lg:overflow-scroll">
      <table class="table-auto w-full text-left">
        <thead class="sticky top-0 text-sm bg-white text-gray-900 uppercase">
          <tr class="[&>:first-child]:pl-3 [&>:last-child]:pr-3">
            <th scope="col" class="py-3">#</th>
            <th scope="col" class="py-3">Task</th>
            <th scope="col" class="py-3">Completed</th>
            <th scope="col" class="py-3">Action</th>
          </tr>
        </thead>
        <!-- <tbody class="[&>*:last-child]:mb-3"> -->
        <tbody class="lg:max-h-[90vh] lg:overflow-y-scroll w-full">
          <tr
            *ngFor="let t of taskArray; let i = index"
            class="[&>:first-child]:pl-3 [&>:last-child]:pr-3 last:border-b last:border-b-neutral-400 odd:bg-neutral-200"
          >
            <th scope="row" class="pt-2 pb-2">{{ i + 1 }}</th>
            <td>{{ t.taskName }}</td>
            <td>
              <input
                (change)="onCheck(i)"
                type="checkbox"
                id="myCheckBox"
                [(ngModel)]="t.isCompleted"
              />
            </td>
            <td>
              <button class="text-rose-600" (click)="OnDelete(i)">
                Delete
              </button>
            </td>
          </tr>
        </tbody>
        <div class="fixed bottom-10 right-0 lg:hidden">
          <app-scroll-to-top></app-scroll-to-top>
        </div>
      </table>
    </div>
  </div>
</div>